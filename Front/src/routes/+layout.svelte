<script>
	// The ordering of these imports is critical to your app working properly
	import '@skeletonlabs/skeleton/themes/theme-vintage.css';
	// If you have source.organizeImports set to true in VSCode, then it will auto change this ordering
	import '@skeletonlabs/skeleton/styles/skeleton.css';
	// Most of your app wide CSS should be put in this file
	import '../app.postcss';
	import { AppShell, AppBar, AppRailTile, AppRailAnchor, AppRail } from '@skeletonlabs/skeleton';

	import GenericItemList from '$lib/components/GenericItemList.svelte';

	let currentTile = 0;

	let type = 'arme';
	// @ts-ignore
	let categories;

	// @ts-ignore
	const selectCategorie = (type) => {
		console.log(type);
		if (type == 'arme') {
			categories = ['Arc', 'Baguette', 'Bâton', 'Dagues', 'Epée', 'Hache', 'Marteau', 'Pelle'];
		} else if (type == 'item') {
			categories = ['Chapeau', 'Cape', 'Amulette', 'Anneau', 'Ceinture', 'Bottes'];
		}

		return categories;
	};

	const changeType = () => {
		if (type == 'arme' || type == null) {
			type = 'item';
		} else if (type == 'item' || type == null) {
			type = 'arme';
		}
		const categories = selectCategorie(type);
	};
</script>

<!-- App Shell -->

<AppShell>
	<svelte:fragment slot="header">
		<AppBar padding="p-1.5">
			<svelte:fragment slot="lead"
				><img
					src="/images/header_icon.png"
					alt="icon du site"
					title="perso enutrof"
					class="h-16 -ml-16"
					width="200px"
				/>
				<h1 class="text-3xl -ml-16 pl-2 font-bold">Dofus Market</h1>
			</svelte:fragment>

			<svelte:fragment slot="trail"
				><button type="button" class="btn hover:variant-soft-primary">Se Connecter</button>
				<span class="divider-vertical h-10" />
				<button type="button" class="btn hover:variant-soft-primary">S'inscrire</button>
			</svelte:fragment>
		</AppBar>
	</svelte:fragment>

	<svelte:fragment slot="sidebarLeft">
		<div
			class="grid grid-cols-[auto_1fr] h-full bg-surface-50-900-token border-r border-surface-500/300 hidden lg:grid w-[300px] overflow-hidden"
		>
			<AppRail>
				<!-- <svelte:fragment slot="lead">
					<AppRailAnchor href="/">(icon)</AppRailAnchor>
				</svelte:fragment> -->
				<!-- --- -->
				<AppRailTile
					bind:group={currentTile}
					name="tile-1"
					value={0}
					title="tile-1"
					on:click={changeType}
				>
					<svelte:fragment slot="lead">
						<i class="fa-solid fa-hat-wizard text-2xl" />
					</svelte:fragment>
					<span>Equipement</span>
				</AppRailTile>
				<AppRailTile
					bind:group={currentTile}
					name="tile-2"
					value={1}
					title="tile-2"
					on:click={changeType}
				>
					<svelte:fragment slot="lead">
						<svg
							version="1.1"
							id="Capa_1"
							xmlns="http://www.w3.org/2000/svg"
							viewBox="0 0 57 57"
							class="svg-icon inline-block outline-none fill-current w-10 h-10"
							focusable="false"
							data-testid="svg-icon"
							x="0px"
							y="0px"
						>
							<path
								d="M57,0h-8.837L18.171,29.992l-4.076-4.076l-1.345-4.034c-0.22-0.663-0.857-1.065-1.55-0.98
		c-0.693,0.085-1.214,0.63-1.268,1.327l-0.572,7.438l5.982,5.982L4.992,46H2.274C1.02,46,0,47.02,0,48.274v6.452
		C0,55.98,1.02,57,2.274,57h6.452C9.98,57,11,55.98,11,54.726v-3.421l10-10l6.021,6.021l6.866-1.145
		c0.685-0.113,1.182-0.677,1.21-1.37c0.028-0.693-0.422-1.295-1.096-1.464l-3.297-0.824l-4.043-4.043L57,8.489V0z M9,54.726
		C9,54.877,8.877,55,8.726,55H2.274C2.123,55,2,54.877,2,54.726v-6.452C2,48.123,2.123,48,2.274,48h0.718h5.734
		C8.877,48,9,48.123,9,48.274v5.031V54.726z M11,48.477v-0.203C11,47.02,9.98,46,8.726,46H7.82l8.938-8.938l1.417,1.417l1.411,1.411
		L11,48.477z M30.942,44.645l-3.235,0.54l-5.293-5.293l0,0l-2.833-2.833l-8.155-8.155l0.292-3.796l0.63,1.89l4.41,4.41l0,0
		l4.225,4.225l8.699,8.699L30.942,44.645z M25.247,37.066l-2.822-2.822l-2.839-2.839L48.991,2h4.243L23.829,31.406
		c-0.391,0.391-0.391,1.023,0,1.414c0.195,0.195,0.451,0.293,0.707,0.293s0.512-0.098,0.707-0.293L55,3.062v4.592L25.247,37.066z"
							/>
						</svg>
					</svelte:fragment>
					<span>Armes</span>
				</AppRailTile>
				<AppRailTile bind:group={currentTile} name="tile-3" value={2} title="tile-3">
					<svelte:fragment slot="lead">
						<svg
							xmlns="http://www.w3.org/2000/svg"
							x="0px"
							y="0px"
							viewBox="0 0 64 64"
							class="svg-icon inline-block outline-none fill-current w-10 h-10"
							focusable="false"
							data-testid="svg-icon"
						>
							<path
								d="M 32.025391 3 C 28.957618 3 25.871608 4.84398 22.345703 9.3242188 C 21.321834 10.625087 20.073043 12.378422 18.763672 14.46875 A 1.0003736 1.0003736 0 1 0 20.458984 15.53125 C 21.731614 13.499578 22.945838 11.795679 23.917969 10.560547 C 27.264064 6.3087854 29.743163 5 32.025391 5 C 34.307618 5 36.786717 6.3087854 40.132812 10.560547 C 42.894872 14.069346 47.54847 21.325819 50.119141 29.236328 C 52.689811 37.146837 53.181725 45.576826 48.046875 51.894531 C 47.269841 52.85001 45.473584 54.858553 42.027344 56.613281 C 35.779809 59.795843 28.294936 59.7955 22.050781 56.607422 C 18.603504 54.846886 16.777234 52.830518 15.996094 51.886719 C 12.917865 48.165617 11.847938 43.73232 12.015625 39.035156 A 1.0001 1.0001 0 1 0 10.017578 38.964844 C 9.8372652 44.01568 11.021307 49.011211 14.455078 53.162109 C 15.325938 54.21431 17.393903 56.475208 21.140625 58.388672 C 27.96047 61.870635 36.113081 61.869928 42.935547 58.394531 C 46.685307 56.48526 48.730644 54.224771 49.599609 53.15625 C 55.321759 46.115956 54.699064 36.858631 52.021484 28.619141 C 49.343905 20.379648 44.615065 13.02342 41.703125 9.3242188 C 38.17722 4.84398 35.093163 3 32.025391 3 z M 31.546875 11.830078 C 31.108537 11.861883 30.670521 11.927211 30.234375 12.025391 L 30.234375 12.023438 C 27.898097 12.549015 25.967778 13.983198 24.701172 15.691406 C 24.424057 16.065138 24.311331 16.489956 24.097656 16.888672 C 22.036506 19.214982 21.245544 22.503293 22.257812 25.335938 C 23.055246 27.567619 24.695655 29.021383 27.880859 30.865234 C 30.507368 32.385791 32.029977 33.049285 33.105469 33.59375 C 34.18096 34.138215 34.799271 34.527085 35.962891 35.703125 C 37.141099 36.894336 38.839277 38.676728 38.783203 40.976562 C 38.721283 43.528312 36.440202 46.510737 33.400391 47.013672 C 33.006171 47.078682 29.801658 47.501457 28.130859 45.380859 C 27.333031 44.368657 27.08975 43.019217 27.345703 41.666016 C 27.82627 42.235463 28.397814 42.745978 29.142578 42.960938 C 30.714303 43.414083 32.414926 42.880598 33.341797 41.580078 C 34.289893 40.248837 33.98484 38.644277 33.417969 37.542969 C 32.617477 35.987394 31.095588 35.421992 29.603516 34.994141 C 28.111444 34.56629 26.485294 34.193427 24.755859 33.144531 C 22.842048 31.983167 21.63269 30.494575 20.919922 29.439453 A 1.0001 1.0001 0 0 0 19.201172 29.546875 C 18.320794 31.276151 17.122977 34.211679 17.019531 37.972656 C 16.963581 40.022793 16.750092 46.356681 21.484375 50.734375 C 26.738118 55.59114 35.582024 56.076149 41.408203 51.806641 C 42.024259 51.35524 46.560649 47.956727 46.998047 42.074219 C 47.487808 35.476083 42.394475 31.05289 41.478516 30.248047 A 1.0001 1.0001 0 0 0 41.476562 30.248047 C 41.192443 29.998917 40.931182 29.785322 40.648438 29.587891 L 40.646484 29.587891 C 40.314811 29.35628 39.818653 29.033896 39.160156 28.734375 A 1.0001 1.0001 0 1 0 38.332031 30.554688 C 38.846883 30.788871 39.223675 31.034177 39.501953 31.228516 C 39.708738 31.372843 39.906782 31.53149 40.158203 31.751953 C 41.072244 32.55511 45.410192 36.425917 45.001953 41.925781 C 44.637351 46.829273 40.710507 49.83876 40.226562 50.193359 C 35.258741 53.833851 27.304007 53.38886 22.84375 49.265625 C 18.842033 45.565319 18.96348 40.081207 19.019531 38.027344 C 19.089931 35.46791 19.732176 33.511259 20.384766 31.943359 C 21.207088 32.915796 22.219712 33.945802 23.71875 34.855469 C 25.745316 36.084573 27.646806 36.512867 29.052734 36.916016 C 30.458662 37.319165 31.205164 37.614606 31.638672 38.457031 C 31.945803 39.053723 32.026794 39.979163 31.712891 40.419922 C 31.36006 40.914987 30.435234 41.250808 29.697266 41.039062 C 28.879576 40.803055 28.286675 39.994567 28.34375 39.060547 A 1.0001 1.0001 0 0 0 26.519531 38.435547 C 24.753259 41.022037 24.758571 44.332985 26.560547 46.619141 C 29.027748 49.750543 33.174783 49.077319 33.726562 48.986328 C 37.806753 48.311263 40.693166 44.653687 40.78125 41.023438 C 40.86118 37.745272 38.562557 35.487664 37.384766 34.296875 C 36.112386 33.010915 35.175274 32.398629 34.009766 31.808594 C 32.844257 31.218558 31.438304 30.614209 28.882812 29.134766 C 25.818017 27.360617 24.755145 26.37838 24.142578 24.664062 C 23.874383 23.91357 23.836415 23.079078 23.900391 22.238281 C 24.072717 22.493122 24.118479 22.751472 24.384766 22.988281 C 24.997001 23.532742 25.86264 24.084557 27.261719 24.871094 A 1.0001 1.0001 0 1 0 28.240234 23.128906 C 26.889314 22.369443 26.114359 21.84943 25.714844 21.494141 C 25.315329 21.138852 25.282485 21.034708 25.201172 20.736328 C 25.002452 20.008545 25.269322 18.997979 25.759766 17.978516 C 25.833256 17.902026 25.879601 17.80311 25.957031 17.730469 C 26.608295 17.120222 28.183573 15.672476 30.308594 15.988281 C 31.218571 16.12346 31.907239 16.562975 32.455078 17.027344 C 32.28767 17.098444 32.101152 17.076024 31.945312 17.1875 C 30.573127 18.16864 30.493632 20.267001 31.791016 21.677734 A 1.0001 1.0001 0 0 0 32.144531 21.923828 L 39.398438 24.923828 A 1.0001 1.0001 0 0 0 40.701172 24.388672 C 40.790032 24.178534 41.257906 23.018572 41.349609 21.324219 C 41.441309 19.629866 41.118061 17.402083 39.53125 15.382812 C 37.917973 13.329474 35.45871 12.02427 32.857422 11.832031 C 32.423874 11.799991 31.985213 11.798273 31.546875 11.830078 z M 31.689453 13.828125 C 32.029537 13.805181 32.369767 13.807274 32.708984 13.833984 C 34.74429 13.994246 36.707262 15.024025 37.958984 16.617188 C 39.190173 18.183916 39.427063 19.855947 39.353516 21.214844 C 39.310366 22.01214 39.191525 22.189303 39.064453 22.621094 L 33.216797 20.203125 C 32.750298 19.583612 32.935224 18.937021 33.109375 18.8125 C 33.236903 18.72127 33.697278 18.659787 34.142578 18.888672 A 1.0001 1.0001 0 0 0 35.474609 17.515625 C 35.270397 17.146331 33.77183 14.482669 30.601562 14.011719 C 30.598762 14.0113 30.59655 14.012133 30.59375 14.011719 C 30.62261 14.004819 30.644848 13.983083 30.673828 13.976562 A 1.0001 1.0001 0 0 0 30.673828 13.974609 C 31.009432 13.899052 31.349369 13.851069 31.689453 13.828125 z M 16.876953 16.675781 A 1.0001 1.0001 0 0 0 16.380859 18.554688 L 18.126953 19.529297 A 1.0001 1.0001 0 1 0 19.101562 17.783203 L 17.353516 16.808594 A 1.0001 1.0001 0 0 0 16.876953 16.675781 z M 14.673828 20.826172 A 1.0001 1.0001 0 0 0 14.302734 22.734375 L 16.111328 23.589844 A 1.0001 1.0001 0 1 0 16.964844 21.78125 L 15.158203 20.927734 A 1.0001 1.0001 0 0 0 14.673828 20.826172 z M 31.996094 24.994141 A 1.0001 1.0001 0 0 0 31.525391 26.880859 C 32.697132 27.511874 33.690365 28.036561 34.537109 28.478516 A 1.0002693 1.0002693 0 1 0 35.462891 26.705078 C 34.623635 26.267033 33.638868 25.746126 32.474609 25.119141 A 1.0001 1.0001 0 0 0 31.996094 24.994141 z M 12.853516 25.123047 A 1.0001 1.0001 0 0 0 12.53125 27.0625 L 14.398438 27.777344 A 1.0005859 1.0005859 0 0 0 15.113281 25.908203 L 13.246094 25.193359 A 1.0001 1.0001 0 0 0 12.853516 25.123047 z M 11.375 29.574219 A 1.0001 1.0001 0 0 0 11.132812 31.541016 L 13.058594 32.080078 A 1.0001 1.0001 0 1 0 13.597656 30.154297 L 11.671875 29.615234 A 1.0001 1.0001 0 0 0 11.375 29.574219 z M 10.349609 34.183594 A 1.0001 1.0001 0 0 0 10.240234 36.173828 L 12.216797 36.482422 A 1.0002539 1.0002539 0 0 0 12.525391 34.505859 L 10.548828 34.197266 A 1.0001 1.0001 0 0 0 10.349609 34.183594 z"
							/>
						</svg>
					</svelte:fragment>
					<span>Dofus</span>
				</AppRailTile>
				<!-- --- -->
				<svelte:fragment slot="trail">
					<AppRailAnchor href="/" target="_blank" title="Account">(icon)</AppRailAnchor>
				</svelte:fragment>
			</AppRail>
			<GenericItemList {categories} />
		</div>
	</svelte:fragment>

	<!-- (sidebarRight) -->
	<!-- (pageHeader) -->
	<!-- Router Slot -->

	<slot />
	<!-- ---- / ---- -->
	<!-- (pageFooter) -->
	<svelte:fragment slot="footer">Footer</svelte:fragment>
</AppShell>
